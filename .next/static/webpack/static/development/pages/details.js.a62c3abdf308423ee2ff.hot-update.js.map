{"version":3,"file":"static/webpack/static/development/pages/details.js.a62c3abdf308423ee2ff.hot-update.js","sources":["webpack:///./pages/details.js"],"sourcesContent":["import { Component } from \"react\";\nimport { Mutation, Query, compose } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Router from \"next/router\";\nimport Cart from \"../components/Cart\";\n\nconst CART_QUERY = gql`\n  query CART_QUERY {\n    cart {\n      id\n      cartUnits {\n        id\n        arrive\n        depart\n      }\n    }\n  }\n`;\n\nconst CREATE_BOOKING_MUTATION = gql`\n  mutation createBooking(\n    $customerId: ID!\n    $firstName: String!\n    $lastName: String!\n    $address1: String!\n    $address2: String!\n    $town: String!\n    $county: String!\n    $postCode: String!\n    $country: String!\n    $phone1: String!\n    $phone2: String!\n    $email: String!\n  ) {\n    createBooking(\n      customerId: $customerId\n      firstName: $firstName\n      lastName: $lastName\n      address1: $address1\n      address2: $address2\n      town: $town\n      county: $county\n      postCode: $postCode\n      country: $country\n      phone1: $phone1\n      phone2: $phone2\n      email: $email\n    ) {\n      id\n    }\n  }\n`;\n\nclass DetailsPage extends Component {\n  state = {\n    customerId: \"cjpora03yj97a0a00hzr8ibjq\",\n    firstName: \"Neil\",\n    lastName: \"Huyton\",\n    address1: \"56 McClintock House\",\n    address2: \"The Boulevard\",\n    town: \"Leeds\",\n    county: \"West Yorkshire\",\n    postCode: \"LS10 1LP\",\n    country: \"United Kingdom\",\n    phone1: \"01524765423\",\n    phone2: \"0777777777\",\n    email: \"neil.huyton@gmail.com\"\n  };\n\n  handleChange = e => {\n    const { name, type, value } = e.target;\n    const val = type === \"number\" ? parseFloat(value) : value;\n    this.setState({ [name]: val });\n  };\n\n  render() {\n    return (\n      <div>\n        <Cart />\n        <Mutation mutation={CREATE_BOOKING_MUTATION} variables={this.state}>\n          {(createBooking, { loading }) => (\n            <form\n              data-test=\"form\"\n              onSubmit={async e => {\n                e.preventDefault();\n                const res = await createBooking();\n                Router.push({\n                  pathname: \"/complete\",\n                  query: { id: res.data.createBooking.id }\n                });\n              }}\n            >\n              <fieldset disabled={loading} aria-busy={loading}>\n                <label htmlFor=\"firstName\">\n                  First Name\n                  <input\n                    type=\"text\"\n                    id=\"firstName\"\n                    name=\"firstName\"\n                    placeholder=\"First Name\"\n                    required\n                    value={this.state.firstName}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"lastName\">\n                  Last Name\n                  <input\n                    type=\"text\"\n                    id=\"lastName\"\n                    name=\"lastName\"\n                    placeholder=\"Last Name\"\n                    required\n                    value={this.state.lastName}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"address1\">\n                  Address 1\n                  <input\n                    type=\"text\"\n                    id=\"address1\"\n                    name=\"address1\"\n                    placeholder=\"Address 1\"\n                    required\n                    value={this.state.address1}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"address2\">\n                  Address 2\n                  <input\n                    type=\"text\"\n                    id=\"address2\"\n                    name=\"address2\"\n                    placeholder=\"Address 2\"\n                    required\n                    value={this.state.address2}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"town\">\n                  Town\n                  <input\n                    type=\"text\"\n                    id=\"town\"\n                    name=\"town\"\n                    placeholder=\"Town\"\n                    required\n                    value={this.state.town}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"county\">\n                  County\n                  <input\n                    type=\"text\"\n                    id=\"county\"\n                    name=\"county\"\n                    placeholder=\"County\"\n                    required\n                    value={this.state.county}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"postCode\">\n                  Post Code\n                  <input\n                    type=\"text\"\n                    id=\"postCode\"\n                    name=\"postCode\"\n                    placeholder=\"Post Code\"\n                    required\n                    value={this.state.postCode}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"country\">\n                  Country\n                  <input\n                    type=\"text\"\n                    id=\"country\"\n                    name=\"country\"\n                    placeholder=\"Country\"\n                    required\n                    value={this.state.country}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <label htmlFor=\"email\">\n                  Email\n                  <input\n                    type=\"text\"\n                    id=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    value={this.state.email}\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <button type=\"submit\">Submit</button>\n              </fieldset>\n            </form>\n          )}\n        </Mutation>\n      </div>\n    );\n  }\n}\n\nexport default DetailsPage;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAaA;AACA;AAiCA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AACA;AAcA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzHA;AAgIA;;;;AA3JA;AACA;AA6JA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}